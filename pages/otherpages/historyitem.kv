<HistoryItemScreen>
  name: 'historyitem'

  BoxLayout:
    orientation: 'vertical'
    spacing: 1

    MDTopAppBar:
      title: "Foodie - History Item"
      left_action_items: [['arrow-left', lambda x: app.back_homepage()]]

    MDLabel:
      font_size: 40
      bold: True
      # text: "Macdonalds"
      padding: (20, 0)
      id: location_name

    MDLabel:
      font_size: 30
      id: eaten_time
      # text: "Eaten at 8:30 am"
      padding: (20, 0)

    MDLabel:
      font_size: 40
      bold: True
      text: "Where it was eaten"
      padding: (20, 0)

    MapView:
      id: historyitem_map
      double_tap_zoom: True
      # size: min(root.height, root.width), min(root.height, root.width)
      on_lat: print('lat:', self.lat)
      on_lon: print('lon:', self.lon)
      lon: 103.76313504803471
      lat: 1.3784949677817633
      zoom: 18
      pos_hint: {'center_x': 0.5, 'y': 0.5}
      size_hint_x: 0.9
      size_hint_y: 4
    MDLabel:
      font_size: 40
      bold: True
      text: "Leave a review..."
      padding: (20, 0)
    BoxLayout:
      orientation: 'vertical'
      size_hint_y: 5
      spacing: 0
      padding: (0, 0)
      
      BoxLayout:
        orientation: 'vertical'
        spacing: 0
        padding: (20, 0)
        MDLabel:
          font_size: 30
          bold: True
          id: location_name_review
          # text: "Macdonalds"
        MDLabel:
          id: num_reviews
          font_size: 25
          text: "45 Reviews"
          
          
        BoxLayout: # this contains the stars
          orientation: 'horizontal'
          spacing: 0
          padding: (0,0)
          
          MDIconButton:
            id: star_one
            theme_text_color: "Custom"
            # text_color: app.theme_cls.primary_color
            text_color: "#d6d6d6"
            icon: "star"
            on_press: app.root.current_screen.click_star(1)
          MDIconButton:
            id: star_two
            icon: "star"
            theme_text_color: "Custom"
            text_color: "#d6d6d6"
            on_press: app.root.current_screen.click_star(2)
          MDIconButton:
            id: star_three
            icon: "star"
            theme_text_color: "Custom"
            text_color: "#d6d6d6"
            on_press: app.root.current_screen.click_star(3)
          MDIconButton:
            id: star_four
            icon: "star"
            theme_text_color: "Custom"
            text_color: "#d6d6d6"
            on_press: app.root.current_screen.click_star(4)
          MDIconButton:
            id: star_five
            icon: "star"
            theme_text_color: "Custom"
            text_color: "#d6d6d6"
            on_press: app.root.current_screen.click_star(5)

      BoxLayout:
        orientation: 'vertical'
        padding: (20, 20)
        size_hint_y: 1.3
        MDTextField:
          id: review
          hint_text: "Leave a review..."
          multiline: True
          max_text_length: 100


        MDFillRoundFlatButton:
          text: "Submit"
          on_press: app.root.current_screen.submit_review()


          
