<AddLocationScreen_1>
  name: 'addlocation_1'

  BoxLayout:
    orientation: "vertical"
    spacing: 30

    MDTopAppBar:
      title: "Foodie - Add Location"
      left_action_items: [['arrow-left', lambda x: app.back_homepage()]]

    BoxLayout:
      padding: (20, 20)
      orientation: "horizontal"
      size_hint_y: 0.1
      MDLabel:
        font_size: 40
        bold: True
        text: "Add new location"
      MDLabel:
        font_size: 40
        color: 0.655,0.545,0.98,1
        text: "7 Questions"

    BoxLayout:
      padding: (20, 0)
      orientation: "vertical"
      size_hint_y: 1.3
      # size_hint_x: 0.7
      pos_hint: {'center_x': 0.5, 'center_y': 0.5}

      MDTextField:
        id: location_name
        hint_text: "Location name"
        # mode: "rectangle"
    
      # BoxLayout:
      #   orientation: "horizontal"
      #   spacing: 30
      #   MDTextField:
      #     id: opening_time
      #     hint_text: "Opening time (Double click)"
      #     readonly: True 
      #     on_text: app.root.current_screen.show_opening_time_picker()
      #     # mode: "rectangle"

      #   MDTextField:
      #     id: closing_time
      #     hint_text: "Closing time (Double click)"
      #     readonly: True 
      #     on_double_tap: app.root.current_screen.show_closing_time_picker()
      #     # mode: "rectangle"
      BoxLayout:
        orientation: 'horizontal'
        spacing: 10
        MDFillRoundFlatButton:
          text: "Select opening hours"
          on_release: app.root.current_screen.show_opening_time_picker()
        MDFillRoundFlatButton:
          text: "Select closing hours"
          on_release: app.root.current_screen.show_closing_time_picker()
      
      BoxLayout:
        orientation: 'horizontal'
        MDLabel:
          text: "Opening hours: "
        MDLabel:
          id: opening_time
          text: ""
          color: app.theme_cls.primary_color
        
      BoxLayout:
        orientation: 'horizontal'
        MDLabel:
          text: "Closing hours: "
        MDLabel:
          id: closing_time
          text: ""
          color: app.theme_cls.primary_color
      MDLabel:
        text: "Is it in a mall? (Tick checkbox for yes or no)"
      
      Check:
        id: in_mall
        active: False
        on_active: app.on_checkbox_active(*args)


      #   Check:
      #     active: True
      #     on_active: app.on_checkbox_active(*args)
      #     pos_hint: {'center_x': 0.5, 'y': 0.5}
      #   MDLabel:
      #     text: "Yes"
      #     pos_hint: {'center_x': 0.5, 'y': 0.55}
      #   Check:
      #     on_active: app.on_checkbox_active(*args)
      #     pos_hint: {'center_x': 0.5, 'y': 0.5}
      #   MDLabel:
      #     text: "No"
      #     pos_hint: {'center_x': 0.5, 'y': 0.55}
        
      MDLabel:
        font_size: 35
        text: "Select where this food place is by clicking on the map."

      MapView:
        id: addlocation_map
        double_tap_zoom: True
        size: root.width * 0.7, root.height * 0.3
        # on_lat: print('lat:', self.lat)
        # on_lon: print('lon:', self.lon)
        # lon: 103.76313504803471
        # lat: 1.3784949677817633
        zoom: 17
        pos_hint: {'center_x': 0.5, 'y': 0.1}
        size_hint_x: 0.7
        size_hint_y: 3
        interactive: True
        # on_touch_down: app.root.current_screen.on_touch_map()

      

      MDFillRoundFlatButton:
        text: "Next page"
        on_press: app.root.current_screen.to_addlocation2()