<CustomProgressBar@ProgressBar>:
  size_hint_x: 0.8
  color: [139, 92, 246, 1]
<CustomMDLabel@MDLabel>:
  font_size: 30
  padding: (20,20)

<Check@MDCheckbox>:
  group: 'group'
  size_hint: None, None
  size: dp(48), dp(48)

<MainPage>
  name: 'mainpage'

  MDBoxLayout:
    orientation: 'vertical'

    MDTopAppBar:
      title: "Foodie"

    MDBottomNavigation:
      # color stuff
      specific_text_color: 1, 1, 1, 1
      md_bg_color: .2, .2, .2, 1

      MDBottomNavigationItem:
        name: "Map"
        text: 'Map'
        icon: 'map'
        ##############################
        # Map screen
        ##############################
        on_tab_release: app.root.current_screen.map_load()
        MDScreen:
          FloatLayout:
            orientation: 'vertical'
            spacing: 10
            
            # MDFloatingActionButton:
            #   icon: "android"
            #   md_bg_color: app.theme_cls.primary_color
            #   pos_hint: {'x': 0.5, 'y': 0.5}

            MapView:
              id: main_map
              double_tap_zoom: True
              # size: min(root.height, root.width), min(root.height, root.width)
              size: 100, 100
              on_lat: print('lat:', self.lat)
              on_lon: print('lon:', self.lon)
              lon: 103.76313504803471
              lat: 1.3784949677817633
              zoom: 19
          

      MDBottomNavigationItem:
        name: "Screen 2"
        text: 'Add location'
        icon: 'map-marker-plus'
        ##############################
        # Add-location screen
        ##############################
        MDScreen:
          BoxLayout:
            orientation: "vertical"
            spacing: 30

            BoxLayout:
              padding: (20, 20)
              orientation: "horizontal"
              size_hint_y: 0.1
              MDLabel:
                font_size: 40
                bold: True
                text: "Add new location"
              MDLabel:
                font_size: 40
                color: 0.655,0.545,0.98,1
                text: "5 Questions"

            BoxLayout:
              padding: (20, 0)
              orientation: "vertical"
              size_hint_y: 1.3
              # size_hint_x: 0.7
              pos_hint: {'center_x': 0.5, 'center_y': 0.5}

              MDTextField:
                id: LocationInput
                hint_text: "Location name"
                # mode: "rectangle"

              BoxLayout:
                orientation: "horizontal"
                spacing: 30
                MDTextField:
                  id: OpeningTimeInput
                  hint_text: "Opening time"
                  # mode: "rectangle"

                MDTextField:
                  id: ClosingTimeInput
                  hint_text: "Closing time"
                  # mode: "rectangle"

              MDLabel:
                text: "Is it in a mall?"
              BoxLayout:
                orientation: "horizontal"

                Check:
                  active: True
                  on_active: app.on_checkbox_active(*args)
                  pos_hint: {'center_x': 0.5, 'y': 0.5}
                MDLabel:
                  text: "Yes"
                  pos_hint: {'center_x': 0.5, 'y': 0.55}
                Check:
                  on_active: app.on_checkbox_active(*args)
                  pos_hint: {'center_x': 0.5, 'y': 0.5}
                MDLabel:
                  text: "No"
                  pos_hint: {'center_x': 0.5, 'y': 0.55}
                
              MDLabel:
                font_size: 35
                text: "Select where this food place is by clicking on the map."

              MapView:
                id: addhistoryitem_map
                double_tap_zoom: True
                # size: min(root.height, root.width), min(root.height, root.width)
                on_lat: print('lat:', self.lat)
                on_lon: print('lon:', self.lon)
                lon: 103.76313504803471
                lat: 1.3784949677817633
                zoom: 18
                pos_hint: {'center_x': 0.5, 'y': 0.1}
                size_hint_x: 0.7
                size_hint_y: 3

              

              MDFillRoundFlatButton:
                text: "Add new location"

      MDBottomNavigationItem:
        name: "History"
        text: 'History'
        icon: 'history'
        ##############################
        # History screen
        ##############################
        MDScreen:
          FloatLayout:


            ScrollView:
              do_scroll_y: True
              pos_hint: {'center_x': 0.5}
              GridLayout:
                spacing: 10
                cols: 1
                size_hint_y: None
                height: self.minimum_height

                padding: (0, 50)
                

                MDLabel:
                  padding: (20, 0)
                  text: "January 13, 2023"
                  font_size: 50
                  bold: True
                
                TwoLineAvatarIconListItem:
                  text: "Restaurant name"
                  secondary_text: "0830"
                  on_release:  app.to_history_item()

                  IconRightWidget:
                    icon: "chevron-right"
                    on_release:  app.to_history_item()

                TwoLineAvatarIconListItem:
                  text: "Restaurant name"
                  secondary_text: "1230"
                  on_release:  app.to_history_item()

                  IconRightWidget:
                    icon: "chevron-right"
                    on_release:  app.to_history_item()

                TwoLineAvatarIconListItem:
                  text: "Restaurant name"
                  secondary_text: "1830"
                  on_release:  app.to_history_item()

                  IconRightWidget:
                    icon: "chevron-right"
                    on_release:  app.to_history_item()

                
              
            MDFloatingActionButton:
              icon: "plus"
              md_bg_color: app.theme_cls.primary_color
              on_release: app.to_add_history_item()
              pos_hint: {'center_x': 0.95, 'y': 0.1}
              
      MDBottomNavigationItem:
        name: "Profile"
        text: 'Profile'
        icon: 'account-circle'
        ##############################
        # Profile screen
        ##############################
        MDScreen:
          BoxLayout:
            orientation: 'vertical'
            spacing: 10
            padding: 100

            MDTextField:
              id: UsernameInput
              hint_text: "Username"
              # mode: "rectangle"
              text: "Example Username"

            MDTextField:
              id: DescriptionInput
              hint_text: "Description"
              multiline: True
              text: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi eget lorem efficitur, fermentum risus vel, fringilla ex. Cras interdum ullamcorper blandit"
              # mode: "rectangle"

            MDLabel:
              text: "this is the profile screen i think"
              halign: "center"

